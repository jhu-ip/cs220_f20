(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{106:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var a=n(2),i=n(6),o=(n(0),n(183)),r={id:"ex3-3",title:"Exercise 3-3"},c={unversionedId:"exercises/ex3-3",id:"exercises/ex3-3",isDocsHomePage:!1,title:"Exercise 3-3",description:"This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability in the time given. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, but you need not hand it in. You are encouraged to work at home to complete what you do not get through today.",source:"@site/docs\\exercises\\ex3-3.md",slug:"/exercises/ex3-3",permalink:"/cs220_f20/docs/exercises/ex3-3",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/exercises/ex3-3.md",version:"current"},l=[{value:"Part 1",id:"part-1",children:[]},{value:"Part 2",id:"part-2",children:[]},{value:"Part 3",id:"part-3",children:[]},{value:"Part 4",id:"part-4",children:[]},{value:"Part 5",id:"part-5",children:[]}],b={rightToc:l};function p(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("div",{className:"admonition admonition-info alert alert--info"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"This is an in-class exercise. An exercise page like this one will contain a brief description but is intended to be supplemented by discussion during our meeting time. Complete the exercise to the best of your ability in the time given. Feel free to talk with other students as you work, and do not be afraid to ask questions if you get stuck. Aim to complete as much as possible during our meeting, but you need not hand it in. You are encouraged to work at home to complete what you do not get through today."))),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Learning Objectives")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Reinforces concepts learned in today meeting:"),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},"Modularizing your code by writing separate functions"),Object(o.b)("li",{parentName:"ul"},"Organizing functions into separate files (function declarations in header files)"),Object(o.b)("li",{parentName:"ul"},"Using separate commands for compilation (translation to object code) and linking"),Object(o.b)("li",{parentName:"ul"},"Creating a Makefile and using make to build your program")))),Object(o.b)("h3",{id:"part-1"},"Part 1"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Log into an undergraduate cluster computer.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Confirm that your personal working git repository and the public course git repository are both cloned.  If this is not the case, ask for assistance.  You may need to redo steps from week 1 exercises. ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Navigate into ",Object(o.b)("inlineCode",{parentName:"p"},"cs220-f20-public"),", type ",Object(o.b)("inlineCode",{parentName:"p"},"git status")," and confirm you have not modified any files or accidentally committed to the public repo. Ask for help if you have added or committed files there and need to undo.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Type ",Object(o.b)("inlineCode",{parentName:"p"},"git pull")," to synchronize your local repo and working copy with the remote repo.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Confirm that you can see the template files for today\u2019s exercise by typing ",Object(o.b)("inlineCode",{parentName:"p"},"ls exercises/ex3-3")," -- you should see files named ",Object(o.b)("strong",{parentName:"p"},"all_in_one.c")," and ",Object(o.b)("strong",{parentName:"p"},"Makefile")," inside."))),Object(o.b)("h3",{id:"part-2"},"Part 2"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Use ",Object(o.b)("inlineCode",{parentName:"p"},"cd ~/cs220")," to move to your working copy of your personal repo.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Use ",Object(o.b)("inlineCode",{parentName:"p"},"cd exercises")," to change to your personal exercises directory.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make a new directory for today\u2019s exercise by typing ",Object(o.b)("inlineCode",{parentName:"p"},"mkdir ex3-3"),".")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Change to the new directory with ",Object(o.b)("inlineCode",{parentName:"p"},"cd ex3-3"),".")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Copy the source file to the current directory using: ",Object(o.b)("inlineCode",{parentName:"p"},"cp ~/cs220-f20-public/exercises/ex3-3/* ."),". You will not need ",Object(o.b)("strong",{parentName:"p"},"Makefile")," until you get to Part 5; "))),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Do not try to run make during this exercise until you are instructed to."))),Object(o.b)("h3",{id:"part-3"},"Part 3"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Compile your newly-copied ",Object(o.b)("strong",{parentName:"p"},"all_in_one.c")," file by typing our usual compile command: ",Object(o.b)("inlineCode",{parentName:"p"},"gcc -std=c99 -Wall -Wextra -pedantic all_in_one.c"),"  (or use ",Object(o.b)("inlineCode",{parentName:"p"},"gccc all_in_one.c")," if you like.) You will notice that the function calls do not return anything sensible at the moment, so let's fix that.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Edit ",Object(o.b)("strong",{parentName:"p"},"all_in_one.c")," so that the function named ",Object(o.b)("strong",{parentName:"p"},"concat")," performs string concatenation of its first two arguments, \u201creturning\u201d the concatenated string via its third argument and sending ",Object(o.b)("inlineCode",{parentName:"p"},"0")," back as the function's return value. However, note that the function's third argument has limited capacity, the value of which is indicated in the fourth argument. If concatenating the first two arguments would cause an overflow of the third argument, do not modify the third argument, and return the value ",Object(o.b)("inlineCode",{parentName:"p"},"1")," to indicate an error situation."),Object(o.b)("p",{parentName:"li"},'For example, if the first two arguments are "alpha" and "beta", and the result string has capacity 10, then the value returned by the function will be ',Object(o.b)("inlineCode",{parentName:"p"},"0"),' and, after the function call, the value inside the third argument should be "alphabeta". However, if the first two arguments are "alpha" and "gamma", with a fourth argument of 10, the value returned by the function will be ',Object(o.b)("inlineCode",{parentName:"p"},"1"),", and the value inside the third argument will not be changed."))),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},"You may NOT use the ",Object(o.b)("inlineCode",{parentName:"li"},"strcat")," or ",Object(o.b)("inlineCode",{parentName:"li"},"strcpy")," library functions (from ",Object(o.b)("inlineCode",{parentName:"li"},"string.h"),") in your solution.  But you MAY use ",Object(o.b)("inlineCode",{parentName:"li"},"strlen"),"."),Object(o.b)("li",{parentName:"ul"},"You should NOT modify any code in the main function. Edit only the ",Object(o.b)("inlineCode",{parentName:"li"},"concat")," function, and get it to work with the existing function calls in main. At that point, if you would like to test your function further, you may add additional calls in main to do so.")))),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Once you have made your changes, re-compile the file by re-typing our usual compile command: ",Object(o.b)("inlineCode",{parentName:"p"},"gcc -std=c99 -Wall -Wextra -pedantic all_in_one.c"),"  (or use ",Object(o.b)("inlineCode",{parentName:"p"},"gccc all_in_one.c"),".)")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Test your program by executing ",Object(o.b)("inlineCode",{parentName:"p"},"./a.out")," and reviewing the output. It is okay to add new calls in main if you wish."))),Object(o.b)("h3",{id:"part-4"},"Part 4"),Object(o.b)("p",null,"Next, we are going to split your working source code into multiple files as follows. Without changing ",Object(o.b)("strong",{parentName:"p"},"all_in_one.c"),", copy the contents of your ",Object(o.b)("strong",{parentName:"p"},"all_in_one.c")," program into the following files:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"run_concat.c")," - should contain the ",Object(o.b)("inlineCode",{parentName:"p"},"main()")," function, but no other functions.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"string_functions.c")," - should contain the definition for the string helper function ",Object(o.b)("inlineCode",{parentName:"p"},"concat")," (and in theory, could later include additional function definitions). It should not have a ",Object(o.b)("em",{parentName:"p"},"main()")," function.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"string_functions.h")," - should contain a prototype (i.e. declaration) for each function defined in ",Object(o.b)("strong",{parentName:"p"},"string_functions.c")," (today, there is only one), and should be #include-d in both of the .c files."))),Object(o.b)("p",null,"Compile and link the program manually, step by step."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Recall that to compile a source file only (and not link or generate an executable), you will use the regular ",Object(o.b)("inlineCode",{parentName:"p"},"gcc")," command with our usual flags and the ",Object(o.b)("inlineCode",{parentName:"p"},"-c")," flag with the ",Object(o.b)("inlineCode",{parentName:"p"},".c")," source file as an argument.  This command will create an object file.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Once you have created your two object files, you can link them to create an executable named ",Object(o.b)("strong",{parentName:"p"},"run_concat")," by using the ",Object(o.b)("inlineCode",{parentName:"p"},"gcc command")," with both ",Object(o.b)("inlineCode",{parentName:"p"},".o")," files as arguments (but here, you do not need the usual flags we use for compiling).  To express in the command that you want the executable file named ",Object(o.b)("strong",{parentName:"p"},"run_concat"),", you will need to use the ",Object(o.b)("inlineCode",{parentName:"p"},"-o")," flag with ",Object(o.b)("strong",{parentName:"p"},"run_concat")," as an argument.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"If your program does not compile or link properly, check that you have added the necessary ",Object(o.b)("inlineCode",{parentName:"p"},"#include")," statements in each ",Object(o.b)("inlineCode",{parentName:"p"},".c")," file.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Do not move onto the next step until you can successfully build and run the ",Object(o.b)("strong",{parentName:"p"},"run_concat")," executable file."))),Object(o.b)("h3",{id:"part-5"},"Part 5"),Object(o.b)("p",null,"Create a Makefile for this program so you can build it quickly and easily."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Now it is time to edit the sample ",Object(o.b)("strong",{parentName:"p"},"Makefile")," file you copied over from the public repository back in Part 3.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Modify ",Object(o.b)("strong",{parentName:"p"},"Makefile")," so that it builds the ",Object(o.b)("em",{parentName:"p"},"run_concat")," program and creates an executable called ",Object(o.b)("strong",{parentName:"p"},"run_concat")," (rather than main).")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Try out the following command-line commands and try to reason out what is happening at each step by reading the messages it prints: ",Object(o.b)("inlineCode",{parentName:"p"},"make"),", ",Object(o.b)("inlineCode",{parentName:"p"},"make clean"),", ",Object(o.b)("inlineCode",{parentName:"p"},"make string_functions.o"),", ",Object(o.b)("inlineCode",{parentName:"p"},"make run_concat.o"),".  Look around in the folder using ",Object(o.b)("inlineCode",{parentName:"p"},"ls")," after each command to see what changed.  Execute them in different orders (and after modifying some source file slightly) and see how the behavior changes.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Finally, check that your ",Object(o.b)("strong",{parentName:"p"},"Makefile")," captures the required dependencies properly:"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Edit the ",Object(o.b)("strong",{parentName:"li"},"string_functions.c")," file so that the ",Object(o.b)("inlineCode",{parentName:"li"},"concat")," function behaves noticeably differently, e.g., outputs a message on the screen. (It does not matter what it says.)  Save it, but do not re-compile it."),Object(o.b)("li",{parentName:"ul"},"At the command line, type ",Object(o.b)("inlineCode",{parentName:"li"},"make"),". Then execute your program and confirm that the output you see is due to the new behavior of the function.")))))}p.isMDXComponent=!0},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=n(0),i=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b=i.a.createContext({}),p=function(e){var t=i.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},s=function(e){var t=p(e.components);return i.a.createElement(b.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),s=p(n),d=a,u=s["".concat(r,".").concat(d)]||s[d]||m[d]||o;return n?i.a.createElement(u,c(c({ref:t},b),{},{components:n})):i.a.createElement(u,c({ref:t},b))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,r[1]=c;for(var b=2;b<o;b++)r[b]=n[b];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);